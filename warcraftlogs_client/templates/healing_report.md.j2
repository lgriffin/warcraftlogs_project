### healing_report.md.j2
# {{ report_title }}

**Log Date:** `{{ log_date }}`
**Log URL:** [View Full Log]({{ log_url }})

---

{% if include_healer %}
## ‚ú® Healing Summary

{% for class_type, rows in summary_by_class.items() %}
### {{ class_type }} Team

| Character | Total Healing | Overhealing | {% for spell in rows[0].spells.keys() %}{{ spell }} |{% endfor %}{% for dispel in dispels_all[class_type] %}{{ dispel }} |{% endfor %}{% if class_type == "Priest" %}Fear Ward |{% endif %} Mana Pots | Dark Runes |
|-----------|----------------|--------------|{% for spell in rows[0].spells.keys() %}-------------|{% endfor %}{% for dispel in dispels_all[class_type] %}-------------|{% endfor %}{% if class_type == "Priest" %}-----------|{% endif %}------------|------------|
{% for row in rows -%}
| {{ row.name }} | {{ row.healing }} | {{ row.overhealing }} | {% for s in row.spells.values() %}{{ s }} |{% endfor %}{% for d in row.dispels.values() %}{{ d }} |{% endfor %}{% if class_type == "Priest" %}{{ row.fear_ward }} |{% endif %} {{ row.mana_potions }} | {{ row.dark_runes }} |
{% endfor %}
{% endfor %}

---

## üßô Individual Views

{% for group, players in {"priests": priests, "paladins": paladins, "druids": druids}.items() %}
{% if players %}
### {{ group|capitalize }}

{% for p in players %}
#### **{{ p.name }}**
- Total Healing: `{{ p.total_healing }}`
- Overhealing: `{{ p.overhealing }}`

| Spell | Casts | Healing |
|-------|-------|---------|
{{ p.spell_table }}

- üíä Mana Pots: `{{ p.mana_potions }}`
- üíÄ Dark Runes: `{{ p.dark_runes }}`

---
{% endfor %}
{% endif %}
{% endfor %}
{% endif %}

{% if include_melee %}

---

## ‚öîÔ∏è Melee Summary

{% for group in melee_classes %}
### {{ group.class_name }} Melee Team

| Name | Total Damage | {% for s in group.players[0].spells %}{{ s.name }} (casts) |{% endfor %}
|------|---------------|{% for s in group.players[0].spells %}----------------------|{% endfor %}
{% for player in group.players -%}
| {{ player.name }} | {{ player.damage }} | {% for s in player.spells %}{{ s.damage }} ({{ s.casts }}) |{% endfor %}
{% endfor %}
{% endfor %}

---

## üßô Individual Melee Views

{% for group in melee_classes %}
### {{ group.class_name }}

{% for p in group.players %}
#### **{{ p.name }}**
- Total Damage: `{{ p.damage }}`

| Spell | Casts | Damage |
|-------|-------|--------|
{% for s in p.spells %}
| {{ s.name }} | {{ s.casts }} | {{ s.damage }} |
{% endfor %}

---
{% endfor %}
{% endfor %}
{% endif %}